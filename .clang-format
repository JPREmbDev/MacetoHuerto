# Archivo .clang-format definitivo - Compatible con C y C++
# Resuelve: Alineación profesional, unión de includes y error de guardado
Language: Cpp
BasedOnStyle: Google

# --- 1. GESTIÓN DE INCLUDES (Sin saltos de línea) ---
# Une todos los bloques de #include en uno solo sin espacios entre ellos
IncludeBlocks: Merge
# Ordena los includes alfabéticamente dentro del bloque
SortIncludes: true

# --- 2. ALINEACIÓN PROFESIONAL (Estilo Columna) ---
# Alinea parámetros verticalmente bajo el paréntesis de apertura
AlignAfterOpenBracket: Align
# Cada parámetro en su propia línea para máxima claridad
BinPackArguments: false
BinPackParameters: false
# Evita que el formateador mande todos los parámetros a una línea nueva indentada
AllowAllParametersOfDeclarationOnNextLine: false
AllowAllArgumentsOnNextLine: false

# --- 3. CONFIGURACIÓN GENERAL Y ESTILO ---
AccessModifierOffset: -1
AlignConsecutiveAssignments: None
AlignOperands: Align
ColumnLimit: 79
IndentWidth: 2
TabWidth: 4
UseTab: Never
Standard: c++11

# --- 4. ESTILO DE LLAVES (Evita error "Formatting failed") ---
BreakBeforeBraces: Custom
BraceWrapping:
  AfterCaseLabel: false
  AfterClass: false
  AfterStruct: false
  AfterControlStatement: false 
  AfterEnum: false
  AfterFunction: false
  AfterNamespace: false
  AfterUnion: false
  AfterExternBlock: false
  BeforeCatch: false
  BeforeElse: false
  BeforeLambdaBody: false
  IndentBraces: false
  SplitEmptyFunction: false
  SplitEmptyRecord: false
  SplitEmptyNamespace: false

# --- 5. ESPACIOS, PUNTEROS Y PREPROCESADOR ---
# Alinea el puntero a la izquierda (uint8_t* ptr)
PointerAlignment: Left
DerivePointerAlignment: false
# Mantiene las directivas # pegadas al margen izquierdo
IndentPPDirectives: None
SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAfterTemplateKeyword: true
SpaceBeforeAssignmentOperators: true
SpaceBeforeCpp11BracedList: false
SpaceBeforeCtorInitializerColon: true
SpaceBeforeInheritanceColon: true
SpaceBeforeParens: ControlStatements
SpaceBeforeRangeBasedForLoopColon: true
SpaceBeforeSquareBrackets: false
SpaceInEmptyParentheses: false
SpacesBeforeTrailingComments: 2

# --- 6. OTROS AJUSTES ---
AllowShortBlocksOnASingleLine: Never 
AlwaysBreakAfterReturnType: None
AlwaysBreakTemplateDeclarations: Yes
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon
FixNamespaceComments: true
KeepEmptyLinesAtTheStartOfBlocks: true
MaxEmptyLinesToKeep: 1
ReflowComments: false